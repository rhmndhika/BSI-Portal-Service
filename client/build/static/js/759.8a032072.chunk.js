"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[759],{6759:function(e,n,r){r.r(n),r.d(n,{default:function(){return C}});var t=r(74165),s=r(15861),i=r(93433),l=r(29439),a=r(72791),o=r(33306),c=r(24947),u=r(57689),d=r(61044),h=r(9030),x=r(81197),f=r(67350),b=r(75863),p=r(80824),g=r(75777),j=r(39712),m=r(66770),v=r.n(m),y=(r(86009),r(9085)),w=(r(5462),r(52554),r(80184)),C=function(){d.ZP.defaults.withCredentials=!0;var e=(0,u.s0)(),n=(0,a.useContext)(o.EmailUser),r=n.emailLog,m=n.setEmailLog,C=(0,a.useContext)(c.RoleUser),k=C.roleUser,L=C.setRoleUser,S=(0,x.qY)(),Z=S.isOpen,I=S.onOpen,U=S.onClose,O=(0,a.useState)(""),A=(0,l.Z)(O,2),P=A[0],q=A[1],T=(0,a.useState)(""),N=(0,l.Z)(T,2),R=N[0],D=N[1],z=(0,a.useState)(""),E=(0,l.Z)(z,2),K=E[0],M=E[1],B=(0,a.useState)(""),F=(0,l.Z)(B,2),X=F[0],G=F[1],W=(0,a.useState)([]),H=(0,l.Z)(W,2),_=H[0],J=H[1],Y=(0,a.useState)(!1),V=(0,l.Z)(Y,2),Q=V[0],$=V[1],ee=(0,a.useState)(!1),ne=(0,l.Z)(ee,2),re=ne[0],te=ne[1],se=a.useRef(null),ie=a.useRef(null),le=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,te(!0),e.next=5,d.ZP.post("".concat("https://bsi-portal-service-production.up.railway.app","/news/createNews"),{Email:r,Username:P,Title:R,Tags:_,Content:K}).then((function(e){e.data.errors?(te(!1),alert(e.data.errors.Title.message)):setTimeout((function(){return window.location.reload(!1)}),1e3)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){function n(){return(n=(0,s.Z)((0,t.Z)().mark((function n(){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.ZP.get("".concat("https://bsi-portal-service-production.up.railway.app","/login")).then((function(n){!0===n.data.loggedIn?(m(n.data.email),L(n.data.role)):e("/",{replace:!0})}),{withCredentials:!0});case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[r]),(0,w.jsx)(w.Fragment,{children:"Admin"!==k?(0,w.jsx)("div",{children:"NOT ADMIN!!!"}):(0,w.jsxs)("div",{children:[(0,w.jsx)(h.Z,{}),(0,w.jsx)(y.Ix,{}),(0,w.jsxs)(f.u_,{initialFocusRef:se,finalFocusRef:ie,isOpen:Z,onClose:U,children:[(0,w.jsx)(f.ZA,{}),(0,w.jsxs)(f.hz,{children:[(0,w.jsx)(f.xB,{children:"Create News / Announcement"}),(0,w.jsx)(f.ol,{}),(0,w.jsxs)("form",{onSubmit:le,children:[(0,w.jsxs)(f.fe,{pb:6,children:[(0,w.jsxs)(b.NI,{isRequired:!0,children:[(0,w.jsx)(b.lX,{children:"Title"}),(0,w.jsx)(p.II,{ref:se,value:R,placeholder:"Title",onChange:function(e){return D(e.target.value)}})]}),(0,w.jsxs)(b.NI,{isRequired:!0,children:[(0,w.jsx)(b.lX,{children:"Username"}),(0,w.jsx)(p.II,{value:P,placeholder:"Username",onChange:function(e){return q(e.target.value)}})]}),(0,w.jsxs)(b.NI,{mt:4,children:[(0,w.jsx)(b.lX,{children:"Tags"}),_.map((function(e,n){return(0,w.jsxs)("div",{className:"tag",children:[e,(0,w.jsx)("button",{onClick:function(){return function(e){J((function(n){return n.filter((function(n,r){return r!==e}))}))}(n)},children:"x"})]},n)})),(0,w.jsx)(p.II,{value:X,placeholder:"Enter a tag",onKeyDown:function(e){var n=e.key,r=X.trim();if("Enter"===n&&r.length&&!_.includes(r)&&(e.preventDefault(),J((function(e){return[].concat((0,i.Z)(e),[r])})),G("")),"Backspace"===n&&!X.length&&_.length&&Q){var t=(0,i.Z)(_),s=t.pop();e.preventDefault(),J(t),G(s)}$(!1)},onKeyUp:function(){$(!0)},onChange:function(e){var n=e.target.value;G(n)}}),(0,w.jsx)(b.Q6,{children:(0,w.jsx)("i",{children:"Input your tag by pressing enter key. max 4"})})]}),(0,w.jsxs)(b.NI,{mt:4,isRequired:!0,children:[(0,w.jsx)(b.lX,{children:"Content"}),(0,w.jsx)(v(),{theme:"snow",message:K,onChange:M})]})]}),(0,w.jsxs)(f.mz,{children:[!1===re?(0,w.jsx)(g.zx,{type:"submit",colorScheme:"blue",mr:3,children:"Save"}):(0,w.jsx)(g.zx,{isLoading:!0,loadingText:"Saving",colorScheme:"blue",variant:"outline",spinnerPlacement:"start",mr:"10px",children:"Saving"}),(0,w.jsx)(g.zx,{onClick:function(){U(),M("")},children:"Cancel"})]})]})]})]}),(0,w.jsx)(j.kC,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:(0,w.jsx)(g.zx,{mt:"300px",onClick:I,children:"Create News"})})]})})}},9030:function(e,n,r){r.d(n,{Z:function(){return y}});var t=r(1413),s=r(72791),i=r(81197),l=r(39712),a=r(40410),o=r(75777),c=r(5266),u=r(51625),d=r(62157),h=r(52906),x=r(39308),f=r(19894),b=r(68699),p=r(33306),g=r(24947),j=r(61044),m=r(9085),v=(r(5462),r(80184));function y(){j.ZP.defaults.withCredentials=!0;var e=(0,s.useContext)(p.EmailUser),n=e.emailLog,r=(e.setEmailLog,(0,s.useContext)(g.RoleUser)),t=r.roleUser,x=(r.setRoleUser,(0,i.qY)()),f=x.isOpen,y=x.onToggle;return(0,v.jsxs)(l.xu,{children:[(0,v.jsxs)(l.kC,{bg:(0,a.ff)("white","gray.800"),color:(0,a.ff)("gray.600","white"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:(0,a.ff)("gray.200","gray.900"),p:5,shadow:"md",align:"center",children:[(0,v.jsx)(l.kC,{flex:{base:1,md:"auto"},ml:{base:-2},display:{base:"flex",md:"none"},children:(0,v.jsx)(o.hU,{onClick:y,marginLeft:3,icon:f?(0,v.jsx)(b.Tw,{w:3,h:3}):(0,v.jsx)(b.Uq,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})}),(0,v.jsxs)(l.kC,{flex:{base:1},justify:{base:"center",md:"start"},children:[(0,v.jsx)("a",{href:"/home",children:(0,v.jsx)(l.xv,{textAlign:(0,c.Sx)({base:"center",md:"left"}),fontFamily:"heading",fontWeight:"500",color:(0,a.ff)("gray.600","gray.200"),children:"BSI Supplier Portal"})}),(0,v.jsxs)(l.kC,{display:{base:"none",md:"flex"},flex:{base:1},ml:10,justify:"flex-end",justifyContent:"flex-end",children:[(0,v.jsx)(w,{}),(0,v.jsx)(l.kC,{justifyContent:"center",alignItems:"center"})]})]}),(0,v.jsx)(l.Kq,{flex:{base:1,md:0},justify:"flex-end",direction:"row",spacing:6,marginLeft:5,children:(0,v.jsxs)(u.v2,{children:[(0,v.jsx)(u.j2,{as:o.zx,rounded:"full",variant:"link",cursor:"pointer",minW:0,children:(0,v.jsx)(o.hU,{"aria-label":"btn-Logout",variant:"ghost",children:(0,v.jsx)(b.ew,{})})}),(0,v.jsxs)(u.qy,{alignItems:"center",children:[(0,v.jsx)("br",{}),(0,v.jsx)(l.M5,{children:(0,v.jsx)(d.qE,{size:"md",src:"https://avatars.dicebear.com/api/male/username.svg"})}),(0,v.jsx)("br",{}),(0,v.jsx)(l.M5,{children:(0,v.jsxs)(l.kC,{flexDirection:"column",children:[(0,v.jsxs)(l.kC,{children:[(0,v.jsx)(l.xv,{children:n}),(0,v.jsx)("br",{})]}),(0,v.jsx)(l.kC,{justifyContent:"center",children:(0,v.jsx)(l.xv,{children:t})})]})}),(0,v.jsx)("br",{}),(0,v.jsx)(u.R,{}),(0,v.jsx)("a",{children:(0,v.jsx)(u.sN,{children:"Account Settings"})}),"Admin"===t?(0,v.jsx)("a",{href:"/admin/dashboard",children:(0,v.jsx)(u.sN,{children:"Dashboard"})}):null,(0,v.jsx)("a",{onClick:function(){j.ZP.get("https://bsi-portal-service-production.up.railway.app/logout").then((function(){})),m.Am.success("Logging out",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){return window.location.assign("https://bsi-portal-supplier.netlify.app")}),1e3)},children:(0,v.jsx)(u.sN,{children:"Logout"})})]})]})})]}),(0,v.jsx)(h.UO,{in:f,animateOpacity:!0,children:(0,v.jsx)(k,{})})]})}var w=function(){var e=(0,a.ff)("gray.600","gray.200"),n=(0,a.ff)("gray.800","white"),r=(0,a.ff)("white","gray.800");return(0,v.jsx)(l.Kq,{direction:"row",spacing:10,children:S.map((function(s){var i;return(0,v.jsx)(l.xu,{children:(0,v.jsxs)(x.J2,{trigger:"hover",placement:"bottom-start",children:[(0,v.jsx)(x.xo,{children:(0,v.jsx)(l.rU,{p:2,href:null!==(i=s.href)&&void 0!==i?i:"#",fontSize:"sm",fontWeight:500,color:e,borderBottom:"2px",borderBottomColor:"blue.300",_hover:{textDecoration:"none",color:n},children:s.label})}),s.children&&(0,v.jsx)(x.yk,{border:0,boxShadow:"xl",bg:r,p:4,rounded:"xl",minW:"sm",children:(0,v.jsx)(l.Kq,{children:s.children.map((function(e){return(0,v.jsx)(C,(0,t.Z)({},e),e.label)}))})})]})},s.label)}))})},C=function(e){var n=e.label,r=e.href,t=e.subLabel;return(0,v.jsx)(l.rU,{href:r,role:"group",display:"block",p:2,rounded:"md",children:(0,v.jsxs)(l.Kq,{direction:"row",align:"center",children:[(0,v.jsxs)(l.xu,{children:[(0,v.jsx)(l.xv,{transition:"all .3s ease",fontWeight:500,children:n}),(0,v.jsx)(l.xv,{fontSize:"sm",children:t})]}),(0,v.jsx)(l.kC,{transition:"all .3s ease",transform:"translateX(-10px)",opacity:0,_groupHover:{opacity:"100%",transform:"translateX(0)"},justify:"flex-end",align:"center",flex:1,children:(0,v.jsx)(f.JO,{color:"pink.400",w:5,h:5,as:b.XC})})]})})},k=function(){return(0,v.jsx)(l.Kq,{bg:(0,a.ff)("white","gray.800"),p:4,display:{md:"none"},children:S.map((function(e){return(0,v.jsx)(L,(0,t.Z)({},e),e.label)}))})},L=function(e){var n=e.label,r=e.children,t=e.href,s=(0,i.qY)(),o=s.isOpen,c=s.onToggle;return(0,v.jsxs)(l.Kq,{spacing:4,onClick:r&&c,children:[(0,v.jsxs)(l.kC,{py:2,as:l.rU,href:null!==t&&void 0!==t?t:"#",justify:"space-between",align:"center",_hover:{textDecoration:"none"},children:[(0,v.jsx)(l.xv,{fontWeight:600,color:(0,a.ff)("gray.600","gray.200"),children:n}),r&&(0,v.jsx)(f.JO,{as:b.v4,transition:"all .25s ease-in-out",transform:o?"rotate(180deg)":"",w:6,h:6})]}),(0,v.jsx)(h.UO,{in:o,animateOpacity:!0,style:{marginTop:"0!important"},children:(0,v.jsx)(l.Kq,{mt:2,pl:4,borderLeft:1,borderStyle:"solid",borderColor:(0,a.ff)("gray.200","gray.700"),align:"start",children:r&&r.map((function(e){return(0,v.jsx)(l.rU,{py:2,href:e.href,children:e.label},e.label)}))})})]})},S=[{label:"Procurenment",children:[{label:"Vendor Registration",subLabel:"Vendor Registration",href:"/registrationhistory"},{label:"Sourcing",subLabel:"Sourcing",href:"#"},{label:"PO Management",subLabel:"PO Management",href:"#"},{label:"Delivery Monitoring",subLabel:"Delivery Monitoring",href:"#"},{label:"Invoice Gateway",subLabel:"Invoice Gateway ( PayG )",href:"/paygHome"},{label:"Outsourcing Portal",subLabel:"Outsourcing Portal",href:"/outsourcing"}]},{label:"Communication",children:[{label:"Live Chat",subLabel:"Find your dream design job",href:"/livechat"},{label:"Social Media",subLabel:"An exclusive list for contract work",href:"/socialmedia/home"},{label:"Group Forum",subLabel:"An exclusive list for contract work",href:"#"}]},{label:"Information",children:[{label:"News and Announcement",subLabel:"Find your dream design job",href:"/news"},{label:"Procurement Guidance",subLabel:"An exclusive list for contract work",href:"#"},{label:"Procurement Principles",subLabel:"An exclusive list for contract work",href:"#"},{label:"Concern About Improper Conduct",subLabel:"An exclusive list for contract work",href:"#"},{label:"User Guidance",subLabel:"An exclusive list for contract work",href:"#"},{label:"Others Dashboard",subLabel:"An exclusive list for contract work",href:"#"},{label:"Tax Matters",subLabel:"An exclusive list for contract work",href:"#"}]}]}}]);
//# sourceMappingURL=759.8a032072.chunk.js.map