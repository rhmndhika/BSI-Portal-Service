"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[537,451],{9030:function(e,n,r){r.d(n,{Z:function(){return v}});var t=r(1413),s=r(72791),i=r(81197),a=r(39712),l=r(40410),o=r(75777),c=r(5266),u=r(51625),d=r(62157),h=r(52906),x=r(39308),p=r(19894),f=r(68699),g=r(33306),m=r(24947),j=r(61044),b=r(9085),w=(r(5462),r(80184));function v(){j.ZP.defaults.withCredentials=!0;var e=(0,s.useContext)(g.EmailUser),n=e.emailLog,r=(e.setEmailLog,(0,s.useContext)(m.RoleUser)),t=r.roleUser,x=(r.setRoleUser,(0,i.qY)()),p=x.isOpen,v=x.onToggle;return(0,w.jsxs)(a.xu,{children:[(0,w.jsxs)(a.kC,{bg:(0,l.ff)("white","gray.800"),color:(0,l.ff)("gray.600","white"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:(0,l.ff)("gray.200","gray.900"),p:5,shadow:"md",align:"center",children:[(0,w.jsx)(a.kC,{flex:{base:1,md:"auto"},ml:{base:-2},display:{base:"flex",md:"none"},children:(0,w.jsx)(o.hU,{onClick:v,marginLeft:3,icon:p?(0,w.jsx)(f.Tw,{w:3,h:3}):(0,w.jsx)(f.Uq,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})}),(0,w.jsxs)(a.kC,{flex:{base:1},justify:{base:"center",md:"start"},children:[(0,w.jsx)("a",{href:"/home",children:(0,w.jsx)(a.xv,{textAlign:(0,c.Sx)({base:"center",md:"left"}),fontFamily:"heading",fontWeight:"500",color:(0,l.ff)("gray.600","gray.200"),children:"BSI Supplier Portal"})}),(0,w.jsxs)(a.kC,{display:{base:"none",md:"flex"},flex:{base:1},ml:10,justify:"flex-end",justifyContent:"flex-end",children:[(0,w.jsx)(y,{}),(0,w.jsx)(a.kC,{justifyContent:"center",alignItems:"center"})]})]}),(0,w.jsx)(a.Kq,{flex:{base:1,md:0},justify:"flex-end",direction:"row",spacing:6,marginLeft:5,children:(0,w.jsxs)(u.v2,{children:[(0,w.jsx)(u.j2,{as:o.zx,rounded:"full",variant:"link",cursor:"pointer",minW:0,children:(0,w.jsx)(o.hU,{"aria-label":"btn-Logout",variant:"ghost",children:(0,w.jsx)(f.ew,{})})}),(0,w.jsxs)(u.qy,{alignItems:"center",children:[(0,w.jsx)("br",{}),(0,w.jsx)(a.M5,{children:(0,w.jsx)(d.qE,{size:"md",src:"https://avatars.dicebear.com/api/male/username.svg"})}),(0,w.jsx)("br",{}),(0,w.jsx)(a.M5,{children:(0,w.jsxs)(a.kC,{flexDirection:"column",children:[(0,w.jsxs)(a.kC,{children:[(0,w.jsx)(a.xv,{children:n}),(0,w.jsx)("br",{})]}),(0,w.jsx)(a.kC,{justifyContent:"center",children:(0,w.jsx)(a.xv,{children:t})})]})}),(0,w.jsx)("br",{}),(0,w.jsx)(u.R,{}),(0,w.jsx)("a",{children:(0,w.jsx)(u.sN,{children:"Account Settings"})}),"Admin"===t?(0,w.jsx)("a",{href:"/admin/dashboard",children:(0,w.jsx)(u.sN,{children:"Dashboard"})}):null,(0,w.jsx)("a",{onClick:function(){j.ZP.get("https://bsi-portal-service-production.up.railway.app/logout").then((function(){})),b.Am.success("Logging out",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){return window.location.assign("http://localhost:3000")}),1e3)},children:(0,w.jsx)(u.sN,{children:"Logout"})})]})]})})]}),(0,w.jsx)(h.UO,{in:p,animateOpacity:!0,children:(0,w.jsx)(k,{})})]})}var y=function(){var e=(0,l.ff)("gray.600","gray.200"),n=(0,l.ff)("gray.800","white"),r=(0,l.ff)("white","gray.800");return(0,w.jsx)(a.Kq,{direction:"row",spacing:10,children:Z.map((function(s){var i;return(0,w.jsx)(a.xu,{children:(0,w.jsxs)(x.J2,{trigger:"hover",placement:"bottom-start",children:[(0,w.jsx)(x.xo,{children:(0,w.jsx)(a.rU,{p:2,href:null!==(i=s.href)&&void 0!==i?i:"#",fontSize:"sm",fontWeight:500,color:e,borderBottom:"2px",borderBottomColor:"blue.300",_hover:{textDecoration:"none",color:n},children:s.label})}),s.children&&(0,w.jsx)(x.yk,{border:0,boxShadow:"xl",bg:r,p:4,rounded:"xl",minW:"sm",children:(0,w.jsx)(a.Kq,{children:s.children.map((function(e){return(0,w.jsx)(C,(0,t.Z)({},e),e.label)}))})})]})},s.label)}))})},C=function(e){var n=e.label,r=e.href,t=e.subLabel;return(0,w.jsx)(a.rU,{href:r,role:"group",display:"block",p:2,rounded:"md",children:(0,w.jsxs)(a.Kq,{direction:"row",align:"center",children:[(0,w.jsxs)(a.xu,{children:[(0,w.jsx)(a.xv,{transition:"all .3s ease",fontWeight:500,children:n}),(0,w.jsx)(a.xv,{fontSize:"sm",children:t})]}),(0,w.jsx)(a.kC,{transition:"all .3s ease",transform:"translateX(-10px)",opacity:0,_groupHover:{opacity:"100%",transform:"translateX(0)"},justify:"flex-end",align:"center",flex:1,children:(0,w.jsx)(p.JO,{color:"pink.400",w:5,h:5,as:f.XC})})]})})},k=function(){return(0,w.jsx)(a.Kq,{bg:(0,l.ff)("white","gray.800"),p:4,display:{md:"none"},children:Z.map((function(e){return(0,w.jsx)(L,(0,t.Z)({},e),e.label)}))})},L=function(e){var n=e.label,r=e.children,t=e.href,s=(0,i.qY)(),o=s.isOpen,c=s.onToggle;return(0,w.jsxs)(a.Kq,{spacing:4,onClick:r&&c,children:[(0,w.jsxs)(a.kC,{py:2,as:a.rU,href:null!==t&&void 0!==t?t:"#",justify:"space-between",align:"center",_hover:{textDecoration:"none"},children:[(0,w.jsx)(a.xv,{fontWeight:600,color:(0,l.ff)("gray.600","gray.200"),children:n}),r&&(0,w.jsx)(p.JO,{as:f.v4,transition:"all .25s ease-in-out",transform:o?"rotate(180deg)":"",w:6,h:6})]}),(0,w.jsx)(h.UO,{in:o,animateOpacity:!0,style:{marginTop:"0!important"},children:(0,w.jsx)(a.Kq,{mt:2,pl:4,borderLeft:1,borderStyle:"solid",borderColor:(0,l.ff)("gray.200","gray.700"),align:"start",children:r&&r.map((function(e){return(0,w.jsx)(a.rU,{py:2,href:e.href,children:e.label},e.label)}))})})]})},Z=[{label:"Procurenment",children:[{label:"Vendor Registration",subLabel:"Vendor Registration",href:"/registrationhistory"},{label:"Sourcing",subLabel:"Sourcing",href:"#"},{label:"PO Management",subLabel:"PO Management",href:"#"},{label:"Delivery Monitoring",subLabel:"Delivery Monitoring",href:"#"},{label:"Invoice Gateway",subLabel:"Invoice Gateway ( PayG )",href:"/paygHome"},{label:"Outsourcing Portal",subLabel:"Outsourcing Portal",href:"/outsourcing"}]},{label:"Communication",children:[{label:"Live Chat",subLabel:"Find your dream design job",href:"/livechat"},{label:"Social Media",subLabel:"An exclusive list for contract work",href:"/socialmedia/home"},{label:"Group Forum",subLabel:"An exclusive list for contract work",href:"#"}]},{label:"Information",children:[{label:"News and Announcement",subLabel:"Find your dream design job",href:"/news"},{label:"Procurement Guidance",subLabel:"An exclusive list for contract work",href:"#"},{label:"Procurement Principles",subLabel:"An exclusive list for contract work",href:"#"},{label:"Concern About Improper Conduct",subLabel:"An exclusive list for contract work",href:"#"},{label:"User Guidance",subLabel:"An exclusive list for contract work",href:"#"},{label:"Others Dashboard",subLabel:"An exclusive list for contract work",href:"#"},{label:"Tax Matters",subLabel:"An exclusive list for contract work",href:"#"}]}]},23537:function(e,n,r){r.r(n);var t=r(1413),s=r(74165),i=r(15861),a=r(29439),l=r(72791),o=r(57689),c=r(33306),u=r(24947),d=r(57451),h=r(61044),x=r(9030),p=r(81197),f=r(67350),g=r(75863),m=r(80824),j=r(75777),b=r(55684),w=r(39712),v=r(69194),y=r(72426),C=r.n(y),k=(r(66770),r(86009),r(80184));n.default=function(){h.ZP.defaults.withCredentials=!0;var e=(0,o.s0)(),n=(0,o.UO)().id,r=(0,l.useContext)(c.EmailUser),y=r.emailLog,L=r.setEmailLog,Z=(0,l.useContext)(u.RoleUser),U=Z.roleUser,I=Z.setRoleUser,S=(0,l.useContext)(d.OutsourcingPortal),N=S.outsourcingPortal,O=S.setOutsourcingPortal,P=(0,l.useState)([]),A=(0,a.Z)(P,2),D=A[0],R=A[1],M=(0,l.useState)(!0),T=(0,a.Z)(M,2),z=T[0],q=T[1],Q=(0,l.useState)(!1),Y=(0,a.Z)(Q,2),E=Y[0],_=Y[1],F=(0,l.useState)(!1),X=(0,a.Z)(F,2),B=X[0],G=X[1],H=(0,p.qY)(),K=H.isOpen,W=H.onOpen,J=H.onClose,V=(0,p.qY)(),$=V.isOpen,ee=V.onOpen,ne=V.onClose,re=l.useRef(null),te=l.useRef(null),se=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,r,t,i,a,l,o){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.ZP.put("".concat("https://bsi-portal-service-production.up.railway.app","/outsourcing/update"),{Name:N.newName?N.newName:r,IDLink:N.newIDLink?N.newIDLink:t,Supplier:N.newSupplier?N.newSupplier:i,User1:N.newUser1?N.newUser1:a,User2:N.newUser2?N.newUser2:l,RoleQuotation:N.newRoleQuotation?N.newRoleQuotation:o,id:n}).then((function(){_(!0),setTimeout((function(){return window.location.reload(!1)}),1200)}));case 1:case"end":return e.stop()}}),e)})));return function(n,r,t,s,i,a,l){return e.apply(this,arguments)}}(),ie=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.ZP.put("".concat("https://bsi-portal-service-production.up.railway.app","/outsourcing/update/message"),{message:N.newMessage?N.newMessage:r,id:n}).then((function(){G(!0),setTimeout((function(){return window.location.reload(!1)}),1200)}));case 2:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),ae=function(e,n){h.ZP.put("".concat("https://bsi-portal-service-production.up.railway.app","/outsourcing/update/status"),{status:n.target.value,id:e}).then((function(){setTimeout((function(){return window.location.reload(!1)}),1e3)}))};return(0,l.useEffect)((function(){function n(){return(n=(0,i.Z)((0,s.Z)().mark((function n(){var r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.ZP.get("".concat("https://bsi-portal-service-production.up.railway.app","/login")).then((function(n){!0===n.data.loggedIn?(L(n.data.email),I(n.data.role)):e("/",{replace:!0})}),{withCredentials:!0});case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[y]),(0,l.useEffect)((function(){var e=h.ZP.CancelToken.source();return h.ZP.get("".concat("https://bsi-portal-service-production.up.railway.app","/outsourcing/").concat(n),{cancelToken:e.token}).then((function(e){R(e.data),q(!1)})).catch((function(e){h.ZP.isCancel(e)?console.log("canceled"):console.log("not canceled")})),function(){e.cancel()}}),[n]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(f.u_,{initialFocusRef:re,finalFocusRef:te,isOpen:K,onClose:J,closeOnOverlayClick:!1,children:[(0,k.jsx)(f.ZA,{}),(0,k.jsxs)(f.hz,{children:[(0,k.jsx)(f.xB,{children:"Edit Data"}),(0,k.jsx)(f.ol,{}),(0,k.jsxs)(f.fe,{pb:6,children:[(0,k.jsxs)(g.NI,{mt:4,children:[(0,k.jsx)(g.lX,{children:"New Name"}),(0,k.jsx)(m.II,{type:"text",value:N.newName?N.newName:D.Name,onChange:function(e){O((0,t.Z)((0,t.Z)({},N),{},{newName:e.target.value}))}})]}),(0,k.jsxs)(g.NI,{mt:4,children:[(0,k.jsx)(g.lX,{children:"New ID Link"}),(0,k.jsx)(m.II,{type:"text",value:N.newIDLink?N.newIDLink:D.IDLink,onChange:function(e){O((0,t.Z)((0,t.Z)({},N),{},{newIDLink:e.target.value}))}})]}),(0,k.jsxs)(g.NI,{mt:4,children:[(0,k.jsx)(g.lX,{children:"New Supplier"}),(0,k.jsx)(m.II,{type:"text",value:N.newSupplier?N.newSupplier:D.Supplier,onChange:function(e){O((0,t.Z)((0,t.Z)({},N),{},{newSupplier:e.target.value}))}})]}),(0,k.jsxs)(g.NI,{mt:4,children:[(0,k.jsx)(g.lX,{children:"New User 1"}),(0,k.jsx)(m.II,{type:"text",value:N.newUser1?N.newUser1:D.User1,onChange:function(e){O((0,t.Z)((0,t.Z)({},N),{},{newUser1:e.target.value}))}})]}),(0,k.jsxs)(g.NI,{mt:4,children:[(0,k.jsx)(g.lX,{children:"New User 2"}),(0,k.jsx)(m.II,{type:"text",value:N.newUser2?N.newUser2:D.User2,onChange:function(e){O((0,t.Z)((0,t.Z)({},N),{},{newUser2:e.target.value}))}})]}),(0,k.jsxs)(g.NI,{mt:4,children:[(0,k.jsx)(g.lX,{children:"New Role Quotation"}),(0,k.jsx)(m.II,{type:"text",value:N.newRoleQuotation?N.newRoleQuotation:D.RoleQuotation,onChange:function(e){O((0,t.Z)((0,t.Z)({},N),{},{newRoleQuotation:e.target.value}))}})]})]}),(0,k.jsxs)(f.mz,{children:[!1===E?(0,k.jsx)(j.zx,{width:"100px",colorScheme:"blue",mr:3,onClick:function(){se(D._id,D.Name,D.IDLink,D.Supplier,D.User1,D.User2,D.RoleQuotation)},children:"Save"}):(0,k.jsx)(j.zx,{isLoading:!0,loadingText:"Saving",colorScheme:"blue",variant:"outline",width:"100px",mr:3,marginLeft:"1px",children:"Saving"}),(0,k.jsx)(j.zx,{width:"100px",onClick:J,children:"Cancel"})]})]})]}),(0,k.jsxs)(f.u_,{closeOnOverlayClick:!1,isOpen:$,onClose:ne,children:[(0,k.jsx)(f.ZA,{}),(0,k.jsxs)(f.hz,{children:[(0,k.jsx)(f.xB,{children:"Write your progress here"}),(0,k.jsx)(f.ol,{}),(0,k.jsxs)(f.fe,{pb:6,children:[(0,k.jsx)(b.g,{placeholder:"Here is a sample placeholder",value:N.newMessage?N.newMessage:D.Message,onChange:function(e){O((0,t.Z)((0,t.Z)({},N),{},{newMessage:e.target.value}))}}),(0,k.jsx)(w.xv,{fontSize:"sm",marginTop:"5px",children:(0,k.jsx)("i",{children:"Please write in list format"})})]}),(0,k.jsxs)(f.mz,{children:[!1===B?(0,k.jsx)(j.zx,{type:"submit",colorScheme:"blue",mr:3,onClick:function(){ie(D._id,D.Message)},children:"Save"}):(0,k.jsx)(j.zx,{isLoading:!0,loadingText:"Saving",colorScheme:"blue",variant:"outline",width:"100px",mr:3,marginLeft:"1px",children:"Saving"}),(0,k.jsx)(j.zx,{onClick:ne,mr:3,children:"Cancel"})]})]})]}),(0,k.jsx)(x.Z,{}),(0,k.jsxs)(w.kC,{justifyContent:"center",marginTop:"30px",children:["Admin"===U?null:(0,k.jsx)(k.Fragment,{children:"Approved"===D.status||"Rejected"===D.status?null:(0,k.jsx)(j.zx,{width:"140px",onClick:W,children:"Edit Data"})}),"Admin"===U?null:(0,k.jsx)(k.Fragment,{children:"Approved"===D.status||"Rejected"===D.status?null:(0,k.jsx)(j.zx,{width:"140px",onClick:ee,marginLeft:"30px",children:"Update Progress"})})]}),z?(0,k.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"20px"},children:(0,k.jsx)(v.$,{})}):(0,k.jsx)("div",{style:{display:"flex",flexDirection:"column",marginTop:"20px",marginLeft:"30px"},children:(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{children:["ID               : ",D._id]}),(0,k.jsxs)("p",{children:["Email            : ",D.Email]}),(0,k.jsxs)("p",{children:["Name             : ",D.Name]}),(0,k.jsxs)("p",{children:["ID Link          : ",D.IDLink]}),(0,k.jsxs)("p",{children:["Supplier         : ",D.Supplier]}),(0,k.jsxs)("p",{children:["User-1           : ",D.User1]}),(0,k.jsxs)("p",{children:["User-2           : ",D.User2]}),(0,k.jsxs)("p",{children:["Role Quotation   : ",D.RoleQuotation]}),(0,k.jsxs)("p",{className:"textMessage",children:["Attachments      : ",D.OutsourcingAttachments]}),(0,k.jsxs)("p",{children:["Created          : ",C()(D.createdAt).format("MMMM Do YYYY, h:mm:ss a")]}),(0,k.jsxs)("p",{children:["Updated          : ",C()(D.createdAt).format("MMMM Do YYYY, h:mm:ss a")]}),(0,k.jsxs)("p",{children:["Progress         : ",D.Message]}),(0,k.jsxs)("p",{children:["Status           : ",D.status]})]})}),D.status?null:(0,k.jsx)(k.Fragment,{children:"Admin"===U?(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:"30px"},children:[(0,k.jsx)(j.zx,{width:100,name:"status",value:"Approved",onClick:function(e){ae(D._id,e)},children:"Approve"}),(0,k.jsx)(j.zx,{width:100,marginLeft:30,name:"status",value:"Rejected",onClick:function(e){ae(D._id,e)},children:"Reject"})]}):null})]})}},57451:function(e,n,r){r.r(n),r.d(n,{OutsourcingPortal:function(){return a},default:function(){return l}});var t=r(29439),s=r(72791),i=r(80184),a=(0,s.createContext)();function l(e){var n=e.children,r=(0,s.useState)({email:"",name:"",idLink:"",supplier:"",user1:"",user2:"",roleQuotation:"0",fileOutsourcing:[],message:"Current Progress",status:"",newName:"",newIDLink:"",newSupplier:"",newUser1:"",newUser2:"",newRoleQuotation:"",newMessage:""}),l=(0,t.Z)(r,2),o=l[0],c=l[1];return(0,i.jsx)(a.Provider,{value:{outsourcingPortal:o,setOutsourcingPortal:c},children:n})}},55684:function(e,n,r){r.d(n,{g:function(){return x}});var t=r(1413),s=r(45987),i=r(37762),a=r(72791),l=r(75863),o=r(81367),c=r(92965),u=["className","rows"],d=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.filter(Boolean).join(" ")};var h=["h","minH","height","minHeight"],x=(0,o.Gp)((function(e,n){var r=(0,o.mq)("Textarea",e),x=(0,c.Lr)(e),p=x.className,f=x.rows,g=(0,s.Z)(x,u),m=(0,l.Yp)(g),j=f?function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object.assign({},e),s=(0,i.Z)(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;a in t&&delete t[a]}}catch(l){s.e(l)}finally{s.f()}return t}(r,h):r;return a.createElement(o.m$.textarea,(0,t.Z)((0,t.Z)({ref:n,rows:f},m),{},{className:d("chakra-textarea",p),__css:j}))}));x.displayName="Textarea"}}]);
//# sourceMappingURL=537.25242f36.chunk.js.map