"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[879],{9030:function(e,n,r){r.d(n,{Z:function(){return v}});var t=r(1413),s=r(72791),i=r(81197),l=r(39712),a=r(40410),o=r(75777),c=r(5266),d=r(51625),u=r(62157),h=r(52906),x=r(39308),f=r(19894),m=r(68699),j=r(33306),g=r(24947),b=r(61044),p=r(9085),y=(r(5462),r(80184));function v(){b.ZP.defaults.withCredentials=!0;var e=(0,s.useContext)(j.EmailUser),n=e.emailLog,r=(e.setEmailLog,(0,s.useContext)(g.RoleUser)),t=r.roleUser,x=(r.setRoleUser,(0,i.qY)()),f=x.isOpen,v=x.onToggle;return(0,y.jsxs)(l.xu,{children:[(0,y.jsxs)(l.kC,{bg:(0,a.ff)("white","gray.800"),color:(0,a.ff)("gray.600","white"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:(0,a.ff)("gray.200","gray.900"),p:5,shadow:"md",align:"center",children:[(0,y.jsx)(l.kC,{flex:{base:1,md:"auto"},ml:{base:-2},display:{base:"flex",md:"none"},children:(0,y.jsx)(o.hU,{onClick:v,marginLeft:3,icon:f?(0,y.jsx)(m.Tw,{w:3,h:3}):(0,y.jsx)(m.Uq,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})}),(0,y.jsxs)(l.kC,{flex:{base:1},justify:{base:"center",md:"start"},children:[(0,y.jsx)("a",{href:"/home",children:(0,y.jsx)(l.xv,{textAlign:(0,c.Sx)({base:"center",md:"left"}),fontFamily:"heading",fontWeight:"500",color:(0,a.ff)("gray.600","gray.200"),children:"BSI Supplier Portal"})}),(0,y.jsxs)(l.kC,{display:{base:"none",md:"flex"},flex:{base:1},ml:10,justify:"flex-end",justifyContent:"flex-end",children:[(0,y.jsx)(C,{}),(0,y.jsx)(l.kC,{justifyContent:"center",alignItems:"center"})]})]}),(0,y.jsx)(l.Kq,{flex:{base:1,md:0},justify:"flex-end",direction:"row",spacing:6,marginLeft:5,children:(0,y.jsxs)(d.v2,{children:[(0,y.jsx)(d.j2,{as:o.zx,rounded:"full",variant:"link",cursor:"pointer",minW:0,children:(0,y.jsx)(o.hU,{"aria-label":"btn-Logout",variant:"ghost",children:(0,y.jsx)(m.ew,{})})}),(0,y.jsxs)(d.qy,{alignItems:"center",children:[(0,y.jsx)("br",{}),(0,y.jsx)(l.M5,{children:(0,y.jsx)(u.qE,{size:"md",src:"https://avatars.dicebear.com/api/male/username.svg"})}),(0,y.jsx)("br",{}),(0,y.jsx)(l.M5,{children:(0,y.jsxs)(l.kC,{flexDirection:"column",children:[(0,y.jsxs)(l.kC,{children:[(0,y.jsx)(l.xv,{children:n}),(0,y.jsx)("br",{})]}),(0,y.jsx)(l.kC,{justifyContent:"center",children:(0,y.jsx)(l.xv,{children:t})})]})}),(0,y.jsx)("br",{}),(0,y.jsx)(d.R,{}),(0,y.jsx)("a",{children:(0,y.jsx)(d.sN,{children:"Account Settings"})}),"Admin"===t?(0,y.jsx)("a",{href:"/admin/dashboard",children:(0,y.jsx)(d.sN,{children:"Dashboard"})}):null,(0,y.jsx)("a",{onClick:function(){b.ZP.get("https://bsi-portal-service-production.up.railway.app/logout").then((function(){})),p.Am.success("Logging out",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){return window.location.assign("https://bsi-portal-supplier.netlify.app")}),1e3)},children:(0,y.jsx)(d.sN,{children:"Logout"})})]})]})})]}),(0,y.jsx)(h.UO,{in:f,animateOpacity:!0,children:(0,y.jsx)(w,{})})]})}var C=function(){var e=(0,a.ff)("gray.600","gray.200"),n=(0,a.ff)("gray.800","white"),r=(0,a.ff)("white","gray.800");return(0,y.jsx)(l.Kq,{direction:"row",spacing:10,children:Z.map((function(s){var i;return(0,y.jsx)(l.xu,{children:(0,y.jsxs)(x.J2,{trigger:"hover",placement:"bottom-start",children:[(0,y.jsx)(x.xo,{children:(0,y.jsx)(l.rU,{p:2,href:null!==(i=s.href)&&void 0!==i?i:"#",fontSize:"sm",fontWeight:500,color:e,borderBottom:"2px",borderBottomColor:"blue.300",_hover:{textDecoration:"none",color:n},children:s.label})}),s.children&&(0,y.jsx)(x.yk,{border:0,boxShadow:"xl",bg:r,p:4,rounded:"xl",minW:"sm",children:(0,y.jsx)(l.Kq,{children:s.children.map((function(e){return(0,y.jsx)(k,(0,t.Z)({},e),e.label)}))})})]})},s.label)}))})},k=function(e){var n=e.label,r=e.href,t=e.subLabel;return(0,y.jsx)(l.rU,{href:r,role:"group",display:"block",p:2,rounded:"md",children:(0,y.jsxs)(l.Kq,{direction:"row",align:"center",children:[(0,y.jsxs)(l.xu,{children:[(0,y.jsx)(l.xv,{transition:"all .3s ease",fontWeight:500,children:n}),(0,y.jsx)(l.xv,{fontSize:"sm",children:t})]}),(0,y.jsx)(l.kC,{transition:"all .3s ease",transform:"translateX(-10px)",opacity:0,_groupHover:{opacity:"100%",transform:"translateX(0)"},justify:"flex-end",align:"center",flex:1,children:(0,y.jsx)(f.JO,{color:"pink.400",w:5,h:5,as:m.XC})})]})})},w=function(){return(0,y.jsx)(l.Kq,{bg:(0,a.ff)("white","gray.800"),p:4,display:{md:"none"},children:Z.map((function(e){return(0,y.jsx)(L,(0,t.Z)({},e),e.label)}))})},L=function(e){var n=e.label,r=e.children,t=e.href,s=(0,i.qY)(),o=s.isOpen,c=s.onToggle;return(0,y.jsxs)(l.Kq,{spacing:4,onClick:r&&c,children:[(0,y.jsxs)(l.kC,{py:2,as:l.rU,href:null!==t&&void 0!==t?t:"#",justify:"space-between",align:"center",_hover:{textDecoration:"none"},children:[(0,y.jsx)(l.xv,{fontWeight:600,color:(0,a.ff)("gray.600","gray.200"),children:n}),r&&(0,y.jsx)(f.JO,{as:m.v4,transition:"all .25s ease-in-out",transform:o?"rotate(180deg)":"",w:6,h:6})]}),(0,y.jsx)(h.UO,{in:o,animateOpacity:!0,style:{marginTop:"0!important"},children:(0,y.jsx)(l.Kq,{mt:2,pl:4,borderLeft:1,borderStyle:"solid",borderColor:(0,a.ff)("gray.200","gray.700"),align:"start",children:r&&r.map((function(e){return(0,y.jsx)(l.rU,{py:2,href:e.href,children:e.label},e.label)}))})})]})},Z=[{label:"Procurenment",children:[{label:"Vendor Registration",subLabel:"Vendor Registration",href:"/registrationhistory"},{label:"Sourcing",subLabel:"Sourcing",href:"#"},{label:"PO Management",subLabel:"PO Management",href:"#"},{label:"Delivery Monitoring",subLabel:"Delivery Monitoring",href:"#"},{label:"Invoice Gateway",subLabel:"Invoice Gateway ( PayG )",href:"/paygHome"},{label:"Outsourcing Portal",subLabel:"Outsourcing Portal",href:"/outsourcing"}]},{label:"Communication",children:[{label:"Live Chat",subLabel:"Find your dream design job",href:"/livechat"},{label:"Social Media",subLabel:"An exclusive list for contract work",href:"/socialmedia/home"},{label:"Group Forum",subLabel:"An exclusive list for contract work",href:"#"}]},{label:"Information",children:[{label:"News and Announcement",subLabel:"Find your dream design job",href:"/news"},{label:"Procurement Guidance",subLabel:"An exclusive list for contract work",href:"#"},{label:"Procurement Principles",subLabel:"An exclusive list for contract work",href:"#"},{label:"Concern About Improper Conduct",subLabel:"An exclusive list for contract work",href:"#"},{label:"User Guidance",subLabel:"An exclusive list for contract work",href:"#"},{label:"Others Dashboard",subLabel:"An exclusive list for contract work",href:"#"},{label:"Tax Matters",subLabel:"An exclusive list for contract work",href:"#"}]}]},30879:function(e,n,r){r.r(n);var t=r(74165),s=r(15861),i=r(4942),l=r(1413),a=r(93433),o=r(29439),c=r(72791),d=r(57689),u=r(33306),h=r(24947),x=r(39712),f=r(75777),m=r(44428),j=r(61044),g=r(47455),b=r(9030),p=(r(7550),r(80184)),y=m.ZP.connect("https://bsi-portal-service-production.up.railway.app");n.default=function(){j.ZP.defaults.withCredentials=!0;var e=(0,d.s0)(),n=(0,c.useContext)(u.EmailUser),r=n.emailLog,m=n.setEmailLog,v=(0,c.useContext)(h.RoleUser),C=(v.roleUser,v.setRoleUser),k=(0,c.useState)(""),w=(0,o.Z)(k,2),L=(w[0],w[1],(0,c.useState)()),Z=(0,o.Z)(L,2),S=(Z[0],Z[1],(0,c.useState)(y.id)),P=(0,o.Z)(S,2),U=(P[0],P[1],(0,c.useState)(!1)),I=(0,o.Z)(U,2),O=(I[0],I[1],(0,c.useState)([])),A=(0,o.Z)(O,2),D=A[0],N=A[1],M=(0,c.useState)([]),q=(0,o.Z)(M,2),R=q[0],E=q[1],G=(0,c.useState)({name:"",msg:"",room:"",isPrivate:!1}),K=(0,o.Z)(G,2),T=K[0],B=K[1],F=(0,c.useState)("General Chat"),W=(0,o.Z)(F,2),z=W[0],H=W[1];(0,c.useEffect)((function(){y.emit("userJoin",r)}),[r]),y.on("newMessage",(function(e){console.log("Just ariived :",e),E([].concat((0,a.Z)(R),[{name:e.name,msg:e.msg,isPrivate:e.isPrivate}]))})),y.on("userList",(function(e){N(e),B({name:r,msg:T.msg})}));(0,c.useEffect)((function(){function n(){return(n=(0,s.Z)((0,t.Z)().mark((function n(){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.ZP.get("".concat("https://bsi-portal-service-production.up.railway.app","/login")).then((function(n){!0===n.data.loggedIn?(m(n.data.email),C(n.data.role)):e("/",{replace:!0})}),{withCredentials:!0});case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[r]);var J=function(e){var n=z,r=e.target.textContent;H(r),y.emit("roomEntered",{oldRoom:n,newRoom:r}),E([])},X=function(e,n){var r=!1;return n.forEach((function(n){n===e&&(r=!0)})),r};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(b.Z,{}),(0,p.jsxs)(x.kC,{flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",children:[(0,p.jsxs)(x.kC,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,p.jsxs)(x.kC,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,p.jsx)(x.kC,{children:(0,p.jsx)(x.xv,{children:"Chat Rooms : "})}),(0,p.jsx)(x.kC,{children:(0,p.jsxs)("ul",{style:{listStyle:"none",cursor:"pointer"},children:[(0,p.jsx)("li",{style:{display:"flex",justifyContent:"center"},onClick:J,children:"General Chat"}),(0,p.jsx)("li",{style:{display:"flex",justifyContent:"center"},onClick:J,children:"Apple"}),(0,p.jsx)("li",{style:{display:"flex",justifyContent:"center"},onClick:J,children:"Banana"}),(0,p.jsx)("li",{style:{display:"flex",justifyContent:"center"},onClick:J,children:"Melon"})]})})]}),(0,p.jsxs)(x.kC,{flexDirection:"column",justifyContent:"center",alignItems:"center",mt:"20px",children:[(0,p.jsx)(x.kC,{justifyContent:"center",alignItems:"center",children:(0,p.jsx)(x.xv,{children:"User Online: "})}),(0,p.jsx)(x.kC,{justifyContent:"center",alignItems:"center",children:(0,p.jsx)("ul",{style:{listStyle:"none"},children:D.map((function(e,n){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(x.kC,{justifyContent:"center",alignItems:"center",children:e===r?(0,p.jsxs)("li",{style:{cursor:"pointer"},onClick:J,children:[e,"(you)"]},e):(0,p.jsx)("li",{style:{cursor:"pointer"},onClick:J,children:e},e)},n)})}))})})]})]}),(0,p.jsx)(x.kC,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:(0,p.jsx)(x.kC,{children:(0,p.jsxs)("div",{className:"chat-window",children:[z.length>12?(0,p.jsx)("div",{className:"chat-header1",children:(0,p.jsxs)("p",{children:["Chat Messages (",z,")"]})}):(0,p.jsx)("div",{className:"chat-header",children:(0,p.jsxs)("p",{children:["Chat Messages (",z,")"]})}),(0,p.jsx)("div",{className:"chat-body",children:(0,p.jsx)(g.ZP,{className:"message-container",children:R.map((function(e,n){return(0,p.jsx)("div",{className:"message",id:r===e.name?"you":r!==e.name?"other":null,children:(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"message-content",children:(0,p.jsx)("span",{style:{color:e.isPrivate?"red":"white"},children:e.msg})}),(0,p.jsxs)("div",{className:"message-meta",children:[(0,p.jsx)("p",{id:"time",children:e.time}),(0,p.jsx)("p",{id:"author",children:e.name})]})]},n)})}))})}),(0,p.jsx)("div",{className:"chat-footer",children:(0,p.jsx)("form",{onSubmit:function(e){e.preventDefault();var n={name:T.name,msg:T.msg,room:z,isPrivate:X(z,D)};""!==n&&(y.emit("newMessage",n),B({name:r,msg:""}))},children:(0,p.jsxs)(x.kC,{flexDirection:"row",justifyContent:"center",alignItems:"center",children:[(0,p.jsx)("input",{type:"text",name:"msg",value:T.msg,placeholder:"Hey...",onChange:function(e){B((0,l.Z)((0,l.Z)({},T),{},(0,i.Z)({},e.target.name,e.target.value)))}}),(0,p.jsx)(f.zx,{type:"submit",children:"\u25ba"})]})})})]})})})]})]})}},7550:function(){}}]);
//# sourceMappingURL=879.3f523a28.chunk.js.map